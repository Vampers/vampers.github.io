<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/logo_miccall.png"/>
	 <link rel="shortcut icon" href="/img/logo_miccall.png">
	
			
    <title>
    Shivy's Backyard
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
	
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>

			    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
    <script src="//fonts.gstatic.com/ea/timing/v1/mlfont.js" async></script>
	
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">Vous revoir</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">Home</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <!-- archives  归档   --> 
	        
	        <li class="active">
	            <a href="#s1">Archive</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="archive-link" href="/archives/2017/12/">December 2017</a>
	                    </ul>
	        </li>
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="About">
		                About
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
		            
		                <li><a href="https://github.com/Vampers" class="icon fa-github"><span class="label">GitHub</span></a></li>
		            
		            
		            
		            
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(https://res.cloudinary.com/ripple3710/image/upload/v1513669031/871561_uxgcxj.jpg);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >在Github和VPS上部署Hexo</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <p><em>本文是对此次建站过程的一个记录与小结，或许可以对他人有所启发，于是写在这里。</em><br><br>  </p>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h2><p>Hexo 是一个快速、简洁且高效的博客框架，支持丰富的插件和主题。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。本文主要介绍 Hexo 在 Github 和 VPS 上的搭建过程，操作系统环境为 Windows 10。  </p>
<h2 id="2-Github-上的搭建过程"><a href="#2-Github-上的搭建过程" class="headerlink" title="2. Github 上的搭建过程"></a>2. Github 上的搭建过程</h2><h3 id="2-1-创建仓库"><a href="#2-1-创建仓库" class="headerlink" title="2.1 创建仓库"></a>2.1 创建仓库</h3><p>在你的 Github 账号下新建一个名为 <code>你的用户名.github.io</code> 的仓库。例如，你的 Github 用户名为 xxx，则创建 <code>xxx.github.io</code>，将来你的网站访问地址就是 <code>https://xxx.github.io</code>。可见一个 Github 账号最多只能有一个这样的仓库。  </p>
<h3 id="2-2-环境搭建"><a href="#2-2-环境搭建" class="headerlink" title="2.2 环境搭建"></a>2.2 环境搭建</h3><p>在本地安装以下工具：  </p>
<ul>
<li><a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a></li>
<li><a href="http://gitforwindows.org/" target="_blank" rel="noopener">Git for Windows</a>  </li>
</ul>
<p>注意事项：安装 Git for Windows 时要选择添加到系统环境变量中，方便以后的操作。安装完成后，打开 Git Bash，以下所有命令将在 Git Bash 中执行。</p>
<h3 id="2-3-配置-SSH-key"><a href="#2-3-配置-SSH-key" class="headerlink" title="2.3 配置 SSH key"></a>2.3 配置 SSH key</h3><p>提交代码需要拥有你的 Github 权限才可以，但是直接使用用户名和密码不够安全，所以我们使用 SSH key 来解决本地和服务器的连接问题。<br>用 Git Bash 执行如下命令：  </p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">cd</span> ~/.ssh     //检查本机已存在的 SSH 密钥
</code></pre>
<p>如果提示： <code>No such file or directory</code> 说明你是第一次使用 git 。</p>
<pre class=" language-bash"><code class="language-bash">$ ssh-keygen -t rsa -C <span class="token string">"你的 Github 邮件地址"</span>
</code></pre>
<p>然后连续三次回车，最终会在用户目录下生成一个文件夹，打开 <code>C:\Users\你的用户名</code>，找到 <code>.ssh\id_rsa.pub</code> 文件，使用记事本打开并复制里面的内容，然后打开你的 Github 主页，进入个人设置 -&gt; SSH and GPG keys -&gt; New SSH key -&gt; 将刚复制的内容粘贴到 key 那里，title 随意填，保存。  </p>
<h3 id="2-4-测试"><a href="#2-4-测试" class="headerlink" title="2.4 测试"></a>2.4 测试</h3><pre class=" language-bash"><code class="language-bash">$ <span class="token function">ssh</span> -T git@github.com     //注意邮箱地址不用改
</code></pre>
<p>如果提示 <code>Are you sure you want to continue connecting (yes/no)?</code>，输入 <code>yes</code>，然后会看到：  </p>
<blockquote>
<p>Hi XXX! You’ve successfully authenticated, but GitHub does not provide shell access.  </p>
</blockquote>
<p>看到这个信息说明 SSH 已配置成功。<br>接下来，执行配置：</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> config --global user.name <span class="token string">"xxx"</span>   //你的 Github 用户名
$ <span class="token function">git</span> config --global user.email <span class="token string">"xxx@mail.com"</span>     //填写你的 Github 邮箱地址
</code></pre>
<h3 id="2-5-Hexo-的安装与配置"><a href="#2-5-Hexo-的安装与配置" class="headerlink" title="2.5 Hexo 的安装与配置"></a>2.5 Hexo 的安装与配置</h3><p><strong>此部分建议参考官方说明文档，有详细的指导和解释。</strong>  </p>
<ul>
<li><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Documentaion | Hexo</a>  </li>
</ul>
<h4 id="2-5-1-安装及初始化"><a href="#2-5-1-安装及初始化" class="headerlink" title="2.5.1 安装及初始化"></a>2.5.1 安装及初始化</h4><p>安装:</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> -g hexo-cli
</code></pre>
<p>安装完成后，在电脑某个地方新建一个名为 <code>hexo</code> 的文件夹（名称可自定义），如 <code>D:\hexo</code>，将来这个文件夹会作为存放代码的地方。完成后执行：  </p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">cd</span> /d/hexo
$ hexo init
</code></pre>
<p>Hexo 会自动下载一些文件到这个文件夹中，目录如下：  </p>
<pre class=" language-text"><code class="language-text">.
├── _config.yml
├── package.json
├── scaffolds
├── source
|   ├── _drafts
|   └── _posts
└── themes
</code></pre>
<h4 id="2-5-2-配置"><a href="#2-5-2-配置" class="headerlink" title="2.5.2 配置"></a>2.5.2 配置</h4><p>请看这篇说明文档：  </p>
<ul>
<li><a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">Configuration | Hexo</a>  </li>
</ul>
<h4 id="2-5-3-修改主题"><a href="#2-5-3-修改主题" class="headerlink" title="2.5.3 修改主题"></a>2.5.3 修改主题</h4><p>访问 Hexo 网站上提供的主题：  </p>
<ul>
<li><a href="https://hexo.io/themes/" target="_blank" rel="noopener">Themes | Hexo</a>  </li>
</ul>
<p>然后根据各个主题的说明操作。  </p>
<blockquote>
<p>注意 Hexo 根目录下的 <code>_config.yml</code> 和 <code>themes</code> 目录下的 <code>_config.yml</code> 这两者的区别。  </p>
</blockquote>
<h4 id="2-5-4-写作"><a href="#2-5-4-写作" class="headerlink" title="2.5.4 写作"></a>2.5.4 写作</h4><p>参考：  </p>
<ul>
<li><a href="https://hexo.io/zh-cn/docs/writing.html" target="_blank" rel="noopener">Writing | Hexo</a>  </li>
</ul>
<h4 id="2-5-5-上传到-Github"><a href="#2-5-5-上传到-Github" class="headerlink" title="2.5.5 上传到 Github"></a>2.5.5 上传到 Github</h4><p>首先，SSH key 肯定要配置好。<br>其次，配置 <code>_config.yml</code> 中有关 deploy 的部分:  </p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token key atrule">deploy</span><span class="token punctuation">:</span>
 <span class="token key atrule">type</span><span class="token punctuation">:</span> git
 <span class="token key atrule">repository</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>xxx/xxx.github.io.git   //注意冒号和 xxx 之间没有空格
 <span class="token key atrule">branch</span><span class="token punctuation">:</span> master
</code></pre>
<p>执行：  </p>
<pre class=" language-bash"><code class="language-bash">$ hexo clean    //非必须。清除缓存文件 <span class="token punctuation">(</span>db.json<span class="token punctuation">)</span> 和已生成的静态文件 <span class="token punctuation">(</span>public<span class="token punctuation">)</span>。在某些情况（尤其是更换主题后），如果发现对站点的更改无论如何也不生效，需要运行该命令。
$ hexo g    //生成静态文件
</code></pre>
<p>此时如果直接部署可能会报错，原因是缺少插件：  </p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-deployer-git --save
</code></pre>
<p>安装完成后，执行：</p>
<pre class=" language-bash"><code class="language-bash">$ hexo d
</code></pre>
<p>完成部署。<br>此时，如果打开你的网页 <code>https://xxx.github.io</code> 应该能看到你发表的内容。<br><em>附：常用 Hexo 指令</em></p>
<ul>
<li><em><a href="https://hexo.io/zh-cn/docs/commands.html" target="_blank" rel="noopener">Commands | Hexo</a></em>  </li>
</ul>
<p><em>关于 Markdown 编辑器，个人推荐 VS Code 或者 Atom，用起来赏心悦目，本文即是由 VS Code 撰写的。</em>  </p>
<h2 id="3-VPS-上的搭建过程"><a href="#3-VPS-上的搭建过程" class="headerlink" title="3. VPS 上的搭建过程"></a>3. VPS 上的搭建过程</h2><p><strong>在进行这一部分之前，建议先完成本文前述的所有步骤，并确保正确无误，这将节省一部分步骤与时间。</strong></p>
<h3 id="3-1-域名解析"><a href="#3-1-域名解析" class="headerlink" title="3.1 域名解析"></a>3.1 域名解析</h3><ul>
<li>如果你还没有域名，那么你将需要购买一个，可以前往 <a href="https://sg.godaddy.com/zh/" target="_blank" rel="noopener">GoDaddy</a> 或其他域名销售网站购买。</li>
<li>然后前往 <a href="https://www.dnspod.cn/" target="_blank" rel="noopener">DNSPod</a>，选择 <code>域名解析</code>，填入你的域名，可以看到应该有 4 条记录类型，两条 <code>NS</code> 类型，一条 <code>A</code> 类型，一条 <code>CNAME</code> 类型。其中两条 <code>NS</code> 的记录类型是 DNSPod 默认配置的，无法修改，你需要在 <code>A</code> 记录类型中将记录值改为你的 VPS 的 IP 地址。</li>
<li>前往你的域名购买网站，将域名的 DNS 解析服务器设置为 <code>f1g1ns1.dnspod.net</code>，<code>f1g1ns2.dnspod.net</code>。注意填写为两栏，一栏填写一个。</li>
<li>点击保存，等待全球递归DNS服务器刷新（最多72小时）。</li>
<li>在等待生效过程中，你正好可以开始配置你的 VPS 。  </li>
</ul>
<h3 id="3-2-建立本地端和-VPS-端的-SSH-连接"><a href="#3-2-建立本地端和-VPS-端的-SSH-连接" class="headerlink" title="3.2 建立本地端和 VPS 端的 SSH 连接"></a>3.2 建立本地端和 VPS 端的 SSH 连接</h3><p>首先，在本地端安装 SSH 工具，这类工具有很多，使用方法也大同小异。本文将以 <a href="http://www.netsarang.com/xshell_download.html" target="_blank" rel="noopener">Xshell</a> 为例进行操作。<br>在网页上登录你的 VPS 控制台，记录下 IP 地址，SSH 连接端口号，以及 root 用户的密码。</p>
<ul>
<li>打开 Xshell，选择 <code>新建连接</code>，在 <code>Host</code> 一栏中填写 VPS 的 IP 地址，在 <code>Port Number</code> 一栏中填写 VPS 的 SSH 连接端口号，填好保存，建立连接。</li>
<li>连接过程中 Xshell 会弹框要求输入用户名和密码，用户名输入 <code>root</code>，密码输入你刚才记录的密码。</li>
<li><p>连接成功建立后，会在 Xshell 上显示:</p>
<blockquote>
<p>Connection established.<br>[root@localhost ~]#  </p>
</blockquote>
</li>
</ul>
<h3 id="3-3-VPS-端的配置"><a href="#3-3-VPS-端的配置" class="headerlink" title="3.3 VPS 端的配置"></a>3.3 VPS 端的配置</h3><h4 id="3-3-1-创建用户"><a href="#3-3-1-创建用户" class="headerlink" title="3.3.1 创建用户"></a>3.3.1 创建用户</h4><ol>
<li>创建用户用于服务器端站点管理，如下：<pre class=" language-text"><code class="language-text"># adduser hexo  //创建用户
# passwd hexo   //设置密码，可能看不见输入的字符，正常输入即可
</code></pre>
</li>
<li>安装 Sudo：<pre class=" language-text"><code class="language-text"># yum install sudo
</code></pre>
</li>
<li><p>赋予 hexo 用户 root 权限，以便接下来的操作:</p>
<pre class=" language-text"><code class="language-text"># vi /etc/sudoers
</code></pre>
<p>找到这一行并添加:</p>
<pre class=" language-text"><code class="language-text">root        ALL=(ALL)       ALL
hexo        ALL=(ALL)       ALL     //这个是添加的
</code></pre>
<blockquote>
<p>编辑这个文件需要用到一些 Vim 命令和键位，这里只介绍要用到的部分，其他详情建议自行搜索：<br>「i」进入插入模式<br>「ESC」退出插入模式<br><code>:wq!</code> 保存并退出<br><code>:q!</code> 不保存并退出  </p>
</blockquote>
</li>
</ol>
<p><strong>注意：服务器端代码如果是 # 开头代表 root 用户的命令， $ 开头代表 hexo 用户的命令。</strong></p>
<h4 id="3-3-2-配置本地端无密码-SSH-登录服务器端"><a href="#3-3-2-配置本地端无密码-SSH-登录服务器端" class="headerlink" title="3.3.2 配置本地端无密码 SSH 登录服务器端"></a>3.3.2 配置本地端无密码 SSH 登录服务器端</h4><p>在前述步骤中我们已经在本地生成了 SSH 密钥，这里可以直接拿来使用而无需再次生成。  </p>
<ol>
<li>服务器端查看是否有安装 SSH ：<pre class=" language-text"><code class="language-text"># rpm -qa |grep ssh
</code></pre>
如果返回有 <code>openssh</code> 开头的信息，则代表已安装。<br>没有的话使用 yum 安装：  <pre class=" language-text"><code class="language-text"># yum install ssh
</code></pre>
</li>
<li>启动服务:<pre class=" language-text"><code class="language-text"># service sshd start
# service sshd status
</code></pre>
</li>
<li>服务器端在用户主目录下新建 <code>.ssh</code> 文件夹并拷贝本地端公钥内容到 <code>.ssh</code> 目录下的 <code>authorized_keys</code>:<pre class=" language-text"><code class="language-text"># su hexo
$ cd ~
$ mkdir .ssh
$ cd .ssh
$ echo "本地端 SSH 密钥(全部内容)" > authorized_keys  //密钥在 C:\Users\你的用户名\.ssh\id_rsa.pub 中
</code></pre>
修改权限：<pre class=" language-text"><code class="language-text">$ chmod 700 ~/.ssh
$ chmod 600 ~/.ssh/authorized_keys
</code></pre>
</li>
<li>进行验证：<br>打开 Git Bash，执行：<pre class=" language-bash"><code class="language-bash">$ <span class="token function">ssh</span> hexo@你的VPS的IP地址 -p 端口号 //@前是你创建的站点管理用户，本文中是 hexo
</code></pre>
第一次连接可能需要输入密码，此后不再需要，可直接连接。  </li>
</ol>
<h4 id="3-3-3-安装配置-nginx"><a href="#3-3-3-安装配置-nginx" class="headerlink" title="3.3.3 安装配置 nginx"></a>3.3.3 安装配置 nginx</h4><p>简单来说， nginx 是代理服务器，有了它我们就能按照域名或IP地址访问网页。  </p>
<ol>
<li>添加 nginx 源，在 <code>/etc/yum.repos.d</code> 目录下创建一个 yum 源文件<code>nginx.repo</code>：<pre class=" language-text"><code class="language-text">$ su root
# vi /etc/yum.repos.d/nginx.repo
</code></pre>
写入如下内容：<pre class=" language-text"><code class="language-text">[nginx]
name=nginx repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=0
enabled=1
</code></pre>
</li>
<li>安装 nginx ：<pre class=" language-text"><code class="language-text"># cd ~
# yum install nginx -y
# nginx -v  //查看版本号验证
</code></pre>
</li>
<li>删除原配置文件：<pre class=" language-text"><code class="language-text"># rm /etc/nginx/conf.d/*
</code></pre>
</li>
<li>重新配置：<pre class=" language-text"><code class="language-text"># vi /etc/nginx/conf.d/hexo.conf
</code></pre>
添加以下内容：<pre class=" language-text"><code class="language-text">server {
 root /home/hexo/www;  #网站根目录,用来存储网站文件，后面会创建
 index index.html index.htm;
 server_name foversty.com;   #你的域名
 location / {
   try_files $uri $uri/ /index.html;
 }
}
</code></pre>
需要注意，这一步较为关键，因为将你的域名和服务器下的网站根目录挂钩，主页是根目录下的 <code>index.html</code>。  </li>
<li>修改 nginx 配置文件：<pre class=" language-text"><code class="language-text"># vi /etc/nginx/nginx.conf
</code></pre>
将其中 user 的值改为 <code>hexo</code>。并在 <code>http</code> 段落中添加以下内容以开启 GZIP 压缩，加快网站访问速度。  <pre class=" language-text"><code class="language-text"># 开启gzip
gzip on;
# 启用gzip压缩的最小文件，小于设置值的文件将不会压缩
gzip_min_length 1k;
# gzip 压缩级别，1-10，数字越大压缩的越好，也越占用CPU时间，后面会有详细说明
gzip_comp_level 2;
# 进行压缩的文件类型。javascript有多种形式。其中的值可以在 mime.types 文件中找到。
gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png;
# 是否在http header中添加Vary: Accept-Encoding，建议开启
gzip_vary on;
# 禁用IE 6 gzip
gzip_disable "MSIE [1-6]\.";
</code></pre>
</li>
<li>切换到 hexo 用户，用户主目录下新建 <code>www</code> 文件夹作为网站根目录：<pre class=" language-text"><code class="language-text"># su hexo
$ cd ~
$ mkdir www
</code></pre>
</li>
<li><p>验证配置是否正确：</p>
<pre class=" language-text"><code class="language-text">$ sudo nginx -t
</code></pre>
<p>如果显示如下信息，说明配置正确。  </p>
<blockquote>
<p>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok<br>nginx: configuration file /etc/nginx/nginx.conf test is successful</p>
</blockquote>
</li>
<li>启动 nginx 服务并测试：<pre class=" language-text"><code class="language-text">$ sudo service nginx start
$ echo "hello nginx!" > /home/hexo/www/index.html   //站点根目录下新建 index.html
</code></pre>
在浏览器中输入你的域名或者 VPS 的 IP 地址（取决于域名解析是否已经生效），出现 <code>hello nginx!</code> 字样表示 nginx 代理服务器搭建成功。然后删除 <code>index.html</code> 吧。  <pre class=" language-text"><code class="language-text">$ rm /home/hexo/www/index.html
</code></pre>
</li>
</ol>
<h4 id="3-3-4-安装和配置-Git"><a href="#3-3-4-安装和配置-Git" class="headerlink" title="3.3.4 安装和配置 Git"></a>3.3.4 安装和配置 Git</h4><ol>
<li>安装 Git<pre class=" language-text"><code class="language-text">$ sudo yum install git
</code></pre>
</li>
<li>初始化 Git 仓库<br>用户主目录下新建 <code>hexo.git</code> 文件夹用作 Git 仓库并初始化：<pre class=" language-text"><code class="language-text">$ cd ~
$ mkdir hexo.git
$ cd hexo.git
$ git init --bare   //初始化 Git 仓库
</code></pre>
</li>
<li>配置 Git 仓库的 hooks<br>hooks 可以将不同目录的数据实现同步。具体如下，在 Git 仓库 <code>hooks</code> 目录下创建文件 <code>post-receive</code> 并修改权限：<pre class=" language-text"><code class="language-text">$ cd hooks
$ touch post-receive
$ chmod 755 post-receive
$ vi post-receive
</code></pre>
将以下内容添加到 <code>post-receive</code> 中：<pre class=" language-text"><code class="language-text">#!/bin/bash
GIT_REPO=/home/hexo/hexo.git
TMP_GIT_CLONE=/tmp/HexoBlog
PUBLIC_WWW=/home/hexo/www
rm -rf ${TMP_GIT_CLONE}
git clone $GIT_REPO $TMP_GIT_CLONE
rm -rf ${PUBLIC_WWW}/*
cp -rf ${TMP_GIT_CLONE}/* ${PUBLIC_WWW}
</code></pre>
</li>
</ol>
<h3 id="3-4-本地端部署验证"><a href="#3-4-本地端部署验证" class="headerlink" title="3.4 本地端部署验证"></a>3.4 本地端部署验证</h3><p>由于前述步骤中本地端已经安装好了 Hexo，所以只需要修改 <code>_config.yml</code> 文件，即可进行部署到 VPS 。<br>url 项配置：</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># URL</span>
<span class="token comment" spellcheck="true">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span>
<span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//foversty.com    <span class="token comment" spellcheck="true">#你的博客网址</span>
<span class="token key atrule">root</span><span class="token punctuation">:</span> /
</code></pre>
<p>deployment 项配置：</p>
<pre class=" language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Deployment</span>
<span class="token comment" spellcheck="true">## Docs: https://hexo.io/docs/deployment.html</span>
<span class="token key atrule">deploy</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> git  
   <span class="token key atrule">repository</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>xxx/xxx.github.io.git  
   <span class="token key atrule">branch</span><span class="token punctuation">:</span> master   <span class="token comment" spellcheck="true">#之前配置的部署到 Github 的有关信息  </span>
 <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> git  
   <span class="token key atrule">repo</span><span class="token punctuation">:</span> ssh<span class="token punctuation">:</span>//hexo@你的VPS的IP地址<span class="token punctuation">:</span>端口号/home/hexo/hexo.git   <span class="token comment" spellcheck="true">#新增部署到VPS的有关信息，注意冒号不可省去且冒号前后没有空格  </span>
   <span class="token key atrule">branch</span><span class="token punctuation">:</span> master
</code></pre>
<p>这样设置好以后，使用 <code>hexo d</code> 命令可以同时部署到 Github 和 VPS，如果你只想部署到其中一个，那么将另一个删掉或者注释掉即可。<br>部署验证，打开 Git Bash，执行以下命令：</p>
<pre class=" language-bash"><code class="language-bash">$ hexo clean
$ hexo g
$ hexo d
</code></pre>
<p>至此，配置过程完全结束，你可以打开浏览器，输入你的域名，查看你发布的内容。  </p>
<h5 id="完结撒花！"><a href="#完结撒花！" class="headerlink" title="完结撒花！"></a>完结撒花！</h5>
            </div>

            <!-- Post Comments -->
            

        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="https://github.com/Vampers" style="border-bottom: none;">Shivy</a></li>
            </ul>
            
			    <span> 2018 </span> 
        </div>
    </div>
</body>



 	
</html>
